# cloud-consumer-ribbon
    
### 带有负载均衡的客户端  
    这是本服务的第二阶段，在这个阶段中，我们已经将所有的微服务全部注册进的Eureka注册中心
    我们知道，对于每一个微服务都不是仅仅只有一个实例存在的，而是多个实例同时存在来应对高并
    发和高吞吐量，那么就需要一个工具来进行负载均衡（即分配每一个请求到每一个实例，保证每个
    实例既不空闲，也不会由于请求太多而压力太大）。我们的Ribbon就是进行负载均衡的一个技术
    
>   使用Ribbon 的前提是服务已经全部注册进Eureka注册中心
>   
>   具体请参考阶段一的 [cloud-provider-8080](https://github.com/811105717/SpringCloud/tree/master/cloud-provider-8080) 是怎么注册进Eureka的
>
>   同理也要求我们的服务消费端也要注册到相同的注册中心中（否则我们是无法找
    到其他服务的）。请参考 [cloud-consumer-80](https://github.com/811105717/SpringCloud/tree/master/cloud-consumer-80) 的注册方式
    
####   配置方式
    1. 首先 要求我们的服务和我们需要使用的服务在同一个注册中心注册
    2. 我们要在启动类上面标注@RibbonClient("服务名称")来指定我们要使用的服务（可以多个）
    3. 我们在使用RestTepmlate 进行访问的时候要访问服务名称而不是服务的地址（很重要）
    
    如果我们配置正确的话，在访问时，就可以看到负载均衡的结果
    （我这里每个服务是不同的数据库，可以看到查询出来的数据是来自不同的数据库的）
    
